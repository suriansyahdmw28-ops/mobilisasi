<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program MLQ - RSUD Pangeran Jaya Sumitra Kotabaru</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <i class="fas fa-hospital icon-large"></i>
                    <div class="header-text">
                        <h1>RSUD Pangeran Jaya Sumitra Kotabaru</h1>
                        <p>Program MLQ - Mobilisasi Dini Post Operasi</p>
                        <small>Ruang Kerapu</small>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav-list">
                <button class="nav-item active" data-page="landing">
                    <i class="fas fa-home"></i>
                    <span>Beranda</span>
                </button>
                <button class="nav-item" data-page="leaflet">
                    <i class="fas fa-book-open"></i>
                    <span>Leaflet</span>
                </button>
                <button class="nav-item" data-page="video">
                    <i class="fas fa-play-circle"></i>
                    <span>Video</span>
                </button>
                <button class="nav-item" data-page="questionnaire">
                    <i class="fas fa-clipboard-question"></i>
                    <span>Kuesioner</span>
                </button>
                <button class="nav-item" data-page="observation">
                    <i class="fas fa-chart-line"></i>
                    <span>Observasi</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Landing Page -->
            <div id="landing-page" class="page active">
                <div class="hero">
                    <div class="hero-content">
                        <h2>Program MLQ</h2>
                        <h3>Early Mobilization, Leaflet & Video QR Code</h3>
                        <p>Sistem informasi terintegrasi untuk edukasi dan monitoring mobilisasi dini pasien post operasi di Ruang Kerapu</p>
                    </div>
                </div>
                
                <div class="menu-grid">
                    <div class="menu-card" data-page="leaflet">
                        <div class="menu-icon"><i class="fas fa-book-open"></i></div>
                        <h4>Leaflet Digital</h4>
                        <p>Panduan lengkap protokol mobilisasi dini pasca operasi.</p>
                        <button class="btn btn--primary btn--sm">Buka Leaflet</button>
                    </div>
                    
                    <div class="menu-card" data-page="video">
                        <div class="menu-icon"><i class="fas fa-play-circle"></i></div>
                        <h4>Video Edukasi</h4>
                        <p>Demonstrasi visual teknik mobilisasi dengan akses QR Code.</p>
                        <button class="btn btn--primary btn--sm">Tonton Video</button>
                    </div>
                    
                    <div class="menu-card" data-page="questionnaire">
                        <div class="menu-icon"><i class="fas fa-clipboard-question"></i></div>
                        <h4>Kuesioner Pengetahuan</h4>
                        <p>Lakukan Pre-test dan Post-test untuk mengukur pemahaman.</p>
                        <button class="btn btn--primary btn--sm">Mulai Kuesioner</button>
                    </div>
                    
                    <div class="menu-card" data-page="observation">
                        <div class="menu-icon"><i class="fas fa-chart-line"></i></div>
                        <h4>Lembar Observasi</h4>
                        <p>Catat perkembangan mobilisasi pasien dengan Skala SMP-O.</p>
                        <button class="btn btn--primary btn--sm">Buka Form</button>
                    </div>
                </div>
            </div>

            <!-- Leaflet Page -->
            <div id="leaflet-page" class="page">
                <div class="page-header">
                    <h2>Leaflet Digital - Mobilisasi Dini</h2>
                    <!-- Tombol download sekarang menjadi link biasa untuk men-trigger download -->
                    <a href="leaflet.pdf" download="Leaflet-Mobilisasi-Dini.pdf" class="btn btn--primary btn--sm">
                        <i class="fas fa-download"></i> Download PDF
                    </a>
                </div>
                <div class="leaflet-content">
                    <div class="pdf-viewer-container">
                        <!-- Path diperbaiki untuk memuat file dari folder yang sama -->
                        <iframe src="leaflet.pdf"></iframe>
                    </div>
                </div>
            </div>

            <!-- Video Page -->
            <div id="video-page" class="page">
                <div class="page-header"><h2>Video Edukasi Mobilisasi Dini</h2></div>
                <div class="video-content">
                    <div class="video-container">
                        <div class="video-placeholder">
                            <i class="fas fa-play-circle"></i>
                            <h3>Video akan segera tersedia</h3>
                            <p>Video demonstrasi dapat di-embed di sini.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Questionnaire Page -->
            <div id="questionnaire-page" class="page">
                <div class="page-header"><h2>Kuesioner Pengetahuan (6 Soal)</h2></div>
                <div class="questionnaire-content">
                    <div class="test-selector">
                        <button class="btn btn--primary test-btn active" data-test="pretest">Pre-Test</button>
                        <button class="btn btn--secondary test-btn" data-test="posttest">Post-Test</button>
                    </div>
                    <div class="questionnaire-form">
                        <form id="questionnaire-form">
                            <!-- Data Diri Pasien untuk Kuesioner -->
                            <div class="patient-data-section">
                                <div class="form-group">
                                    <label class="form-label" for="q-patient-name">Nama Pasien</label>
                                    <input type="text" class="form-control" id="q-patient-name" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="q-patient-rm">Nomor RM</label>
                                    <input type="text" class="form-control" id="q-patient-rm" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="q-patient-dob">Tanggal Lahir</label>
                                    <input type="date" class="form-control" id="q-patient-dob" required>
                                </div>
                            </div>
                            <hr class="form-divider">
                            <div id="questions-container"></div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn--primary"><i class="fas fa-paper-plane"></i> Kirim Jawaban</button>
                                <button type="button" class="btn btn--secondary reset-btn"><i class="fas fa-undo"></i> Reset</button>
                            </div>
                        </form>
                        <div id="results-container" class="results hidden">
                            <!-- Konten hasil akan muncul di sini -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Observation Page -->
            <div id="observation-page" class="page">
                <div class="page-header">
                    <h2>Lembar Observasi - Skala Mobilitas Pasca-Operasi (SMP-O)</h2>
                    <button class="btn btn--primary save-observation">
                        <i class="fas fa-save"></i> Simpan Data ke Firebase
                    </button>
                </div>
                <div class="observation-content">
                    <div class="patient-info">
                        <h3>1. Informasi Pasien & Tindakan</h3>
                        <div class="info-grid">
                            <div class="form-group">
                                <label class="form-label">Nama Pasien</label>
                                <input type="text" class="form-control" id="obs-patient-name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Nomor RM</label>
                                <input type="text" class="form-control" id="obs-patient-rm" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tanggal Operasi</label>
                                <input type="date" class="form-control" id="surgery-date" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Jam Observasi</label>
                                <input type="datetime-local" class="form-control" id="observation-time" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tindakan Operasi</label>
                                <button id="select-op-btn" class="btn btn--outline btn--full-width">Pilih Tindakan</button>
                                <span id="selected-op" class="selected-value"></span>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Jenis Anestesi</label>
                                <button id="select-anesthesia-btn" class="btn btn--outline btn--full-width">Pilih Jenis Anestesi</button>
                                <span id="selected-anesthesia" class="selected-value"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mobility-scale">
                        <h3>2. Skala Mobilitas Pasca-Operasi (SMP-O)</h3>
                        <p class="scale-desc">Pilih level mobilitas yang sesuai dengan kondisi pasien saat ini:</p>
                        <div class="mobility-levels" id="mobility-levels-container">
                            <!-- Level mobilisasi akan digenerate oleh JavaScript -->
                        </div>
                    </div>

                    <div class="safety-monitoring">
                        <h3>3. Monitoring Keamanan</h3>
                        <div class="monitoring-grid">
                            <!-- Kolom monitoring keamanan -->
                        </div>
                    </div>
                    
                    <div class="notes-section">
                        <h3>4. Catatan & Paraf</h3>
                        <div class="info-grid">
                            <div class="form-group notes-group">
                                <label class="form-label">Catatan Penting</label>
                                <textarea class="form-control" id="observation-notes" rows="4" placeholder="Tingkat nyeri, keluhan, kebutuhan bantuan, hambatan..."></textarea>
                            </div>
                             <div class="form-group">
                                <label class="form-label">Nama Perawat</label>
                                <button id="select-nurse-btn" class="btn btn--outline btn--full-width">Pilih Perawat</button>
                                <span id="selected-nurse" class="selected-value"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <div class="toast-content">
            <i class="toast-icon"></i>
            <span class="toast-message"></span>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="selection-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Pilih Opsi</h3>
                <button class="modal-close-btn">&times;</button>
            </div>
            <div id="modal-list" class="modal-list">
                <!-- Opsi akan dimasukkan di sini oleh JavaScript -->
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="app.js"></script>

</body>
</html>

